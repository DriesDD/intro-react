{"ast":null,"code":"var _jsxFileName = \"/home/dries/Documents/BeCode/react/intro-react/src/App.js\";\nimport React, { useState, useRef } from \"react\";\nimport './App.css';\nvar app = app || {};\napp.ALL_TODOS = 'all';\napp.ACTIVE_TODOS = 'active';\napp.COMPLETED_TODOS = 'completed';\nvar TodoFooter = app.TodoFooter;\nvar TodoItem = app.TodoItem;\nvar ENTER_KEY = 13;\nvar App = React.createClass({\n  displayName: \"App\",\n  getInitialState: function () {\n    return {\n      nowShowing: app.ALL_TODOS,\n      editing: null,\n      newTodo: ''\n    };\n  },\n  componentDidMount: function () {\n    var setState = this.setState;\n  },\n  handleChange: function (event) {\n    this.setState({\n      newTodo: event.target.value\n    });\n  },\n  handleNewTodoKeyDown: function (event) {\n    if (event.keyCode !== ENTER_KEY) {\n      return;\n    }\n\n    event.preventDefault();\n    var val = this.state.newTodo.trim();\n\n    if (val) {\n      this.props.model.addTodo(val);\n      this.setState({\n        newTodo: ''\n      });\n    }\n  },\n  toggleAll: function (event) {\n    var checked = event.target.checked;\n    this.props.model.toggleAll(checked);\n  },\n  toggle: function (todoToToggle) {\n    this.props.model.toggle(todoToToggle);\n  },\n  destroy: function (todo) {\n    this.props.model.destroy(todo);\n  },\n  edit: function (todo) {\n    this.setState({\n      editing: todo.id\n    });\n  },\n  save: function (todoToSave, text) {\n    this.props.model.save(todoToSave, text);\n    this.setState({\n      editing: null\n    });\n  },\n  cancel: function () {\n    this.setState({\n      editing: null\n    });\n  },\n  clearCompleted: function () {\n    this.props.model.clearCompleted();\n  },\n  render: function () {\n    var footer;\n    var main;\n    var todos = this.props.model.todos;\n    var shownTodos = todos.filter(function (todo) {\n      switch (this.state.nowShowing) {\n        case app.ACTIVE_TODOS:\n          return !todo.completed;\n\n        case app.COMPLETED_TODOS:\n          return todo.completed;\n\n        default:\n          return true;\n      }\n    }, this);\n    var todoItems = shownTodos.map(function (todo) {\n      return /*#__PURE__*/React.createElement(TodoItem, {\n        key: todo.id,\n        todo: todo,\n        onToggle: this.toggle.bind(this, todo),\n        onDestroy: this.destroy.bind(this, todo),\n        onEdit: this.edit.bind(this, todo),\n        editing: this.state.editing === todo.id,\n        onSave: this.save.bind(this, todo),\n        onCancel: this.cancel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 16\n        }\n      });\n    }, this);\n    var activeTodoCount = todos.reduce(function (accum, todo) {\n      return todo.completed ? accum : accum + 1;\n    }, 0);\n    var completedCount = todos.length - activeTodoCount;\n\n    if (activeTodoCount || completedCount) {\n      footer = /*#__PURE__*/React.createElement(TodoFooter, {\n        count: activeTodoCount,\n        completedCount: completedCount,\n        nowShowing: this.state.nowShowing,\n        onClearCompleted: this.clearCompleted,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 16\n        }\n      });\n    }\n\n    if (todos.length) {\n      main = /*#__PURE__*/React.createElement(\"section\", {\n        className: \"main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"toggle-all\",\n        className: \"toggle-all\",\n        type: \"checkbox\",\n        onChange: this.toggleAll,\n        checked: activeTodoCount === 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 9\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"toggle-all\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 12\n        }\n      }), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"todo-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }\n      }, \" \", todoItems, \" \"), \" \");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, \" todos \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"new-todo\",\n      placeholder: \"What needs to be done?\",\n      value: this.state.newTodo,\n      onKeyDown: this.handleNewTodoKeyDown,\n      onChange: this.handleChange,\n      autoFocus: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }), \" \"), \" \", main, \" \", footer, \" \");\n  }\n});\nvar model = new app.TodoModel('react-todos');\n\nfunction render() {\n  React.render( /*#__PURE__*/React.createElement(App, {\n    model: model,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }), document.getElementsByClassName('App')[0]);\n}\n\nmodel.subscribe(render);\nrender();\nexport default App;","map":{"version":3,"sources":["/home/dries/Documents/BeCode/react/intro-react/src/App.js"],"names":["React","useState","useRef","app","ALL_TODOS","ACTIVE_TODOS","COMPLETED_TODOS","TodoFooter","TodoItem","ENTER_KEY","App","createClass","getInitialState","nowShowing","editing","newTodo","componentDidMount","setState","handleChange","event","target","value","handleNewTodoKeyDown","keyCode","preventDefault","val","state","trim","props","model","addTodo","toggleAll","checked","toggle","todoToToggle","destroy","todo","edit","id","save","todoToSave","text","cancel","clearCompleted","render","footer","main","todos","shownTodos","filter","completed","todoItems","map","bind","activeTodoCount","reduce","accum","completedCount","length","TodoModel","document","getElementsByClassName","subscribe"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  useRef\n} from \"react\";\nimport './App.css';\n\n\nvar app = app || {};\n\napp.ALL_TODOS = 'all';\napp.ACTIVE_TODOS = 'active';\napp.COMPLETED_TODOS = 'completed';\nvar TodoFooter = app.TodoFooter;\nvar TodoItem = app.TodoItem;\n\nvar ENTER_KEY = 13;\n\nvar App = React.createClass({\n  getInitialState: function () {\n    return {\n      nowShowing: app.ALL_TODOS,\n      editing: null,\n      newTodo: ''\n    };\n  },\n\n  componentDidMount: function () {\n    var setState = this.setState;\n\n  },\n\n  handleChange: function (event) {\n    this.setState({\n      newTodo: event.target.value\n    });\n  },\n\n  handleNewTodoKeyDown: function (event) {\n    if (event.keyCode !== ENTER_KEY) {\n      return;\n    }\n\n    event.preventDefault();\n\n    var val = this.state.newTodo.trim();\n\n    if (val) {\n      this.props.model.addTodo(val);\n      this.setState({\n        newTodo: ''\n      });\n    }\n  },\n\n  toggleAll: function (event) {\n    var checked = event.target.checked;\n    this.props.model.toggleAll(checked);\n  },\n\n  toggle: function (todoToToggle) {\n    this.props.model.toggle(todoToToggle);\n  },\n\n  destroy: function (todo) {\n    this.props.model.destroy(todo);\n  },\n\n  edit: function (todo) {\n    this.setState({\n      editing: todo.id\n    });\n  },\n\n  save: function (todoToSave, text) {\n    this.props.model.save(todoToSave, text);\n    this.setState({\n      editing: null\n    });\n  },\n\n  cancel: function () {\n    this.setState({\n      editing: null\n    });\n  },\n\n  clearCompleted: function () {\n    this.props.model.clearCompleted();\n  },\n\n  render: function () {\n    var footer;\n    var main;\n    var todos = this.props.model.todos;\n\n    var shownTodos = todos.filter(function (todo) {\n      switch (this.state.nowShowing) {\n        case app.ACTIVE_TODOS:\n          return !todo.completed;\n        case app.COMPLETED_TODOS:\n          return todo.completed;\n        default:\n          return true;\n      }\n    }, this);\n\n    var todoItems = shownTodos.map(function (todo) {\n      return ( <\n        TodoItem key = {\n          todo.id\n        }\n        todo = {\n          todo\n        }\n        onToggle = {\n          this.toggle.bind(this, todo)\n        }\n        onDestroy = {\n          this.destroy.bind(this, todo)\n        }\n        onEdit = {\n          this.edit.bind(this, todo)\n        }\n        editing = {\n          this.state.editing === todo.id\n        }\n        onSave = {\n          this.save.bind(this, todo)\n        }\n        onCancel = {\n          this.cancel\n        }\n        />\n      );\n    }, this);\n\n    var activeTodoCount = todos.reduce(function (accum, todo) {\n      return todo.completed ? accum : accum + 1;\n    }, 0);\n\n    var completedCount = todos.length - activeTodoCount;\n\n    if (activeTodoCount || completedCount) {\n      footer = <\n        TodoFooter\n      count = {\n        activeTodoCount\n      }\n      completedCount = {\n        completedCount\n      }\n      nowShowing = {\n        this.state.nowShowing\n      }\n      onClearCompleted = {\n        this.clearCompleted\n      }\n      />;\n    }\n\n    if (todos.length) {\n      main = ( <\n        section className = \"main\" >\n        <\n        input id = \"toggle-all\"\n        className = \"toggle-all\"\n        type = \"checkbox\"\n        onChange = {\n          this.toggleAll\n        }\n        checked = {\n          activeTodoCount === 0\n        }\n        /> <\n        label htmlFor = \"toggle-all\" /\n        >\n        <\n        ul className = \"todo-list\" > {\n          todoItems\n        } <\n        /ul> < /\n        section >\n      );\n    }\n\n    return ( <\n      div >\n      <\n      header className = \"header\" >\n      <\n      h1 > todos < /h1> <\n      input className = \"new-todo\"\n      placeholder = \"What needs to be done?\"\n      value = {\n        this.state.newTodo\n      }\n      onKeyDown = {\n        this.handleNewTodoKeyDown\n      }\n      onChange = {\n        this.handleChange\n      }\n      autoFocus = {\n        true\n      }\n      /> < /\n      header > {\n        main\n      } {\n        footer\n      } <\n      /div>\n    );\n  }\n});\n\nvar model = new app.TodoModel('react-todos');\n\nfunction render() {\n  React.render( <\n    App model = {\n      model\n    }\n    />,\n    document.getElementsByClassName('App')[0]\n  );\n}\n\nmodel.subscribe(render);\nrender();\n\nexport default App;"]},"metadata":{},"sourceType":"module"}